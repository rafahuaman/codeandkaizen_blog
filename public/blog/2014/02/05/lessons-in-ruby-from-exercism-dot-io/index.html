

<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Lessons in Ruby from Exercism.io - Code and Kaizen</title>
    <meta name="author" content="Rafael Huaman">
    
    <meta name="description" content="Lessons in Ruby from Exercism.io Feb 5th, 2014 blog web dev Ruby Exercism.io Hash Enumerable feedback collaboration Exercism.io and Patience When I &hellip;">
    
    <meta name="viewport" content="width=device-width">
    
    <link rel="canonical" href="http://codeandkaizen.herokuapp.com/blog/2014/02/05/lessons-in-ruby-from-exercism-dot-io">
    <link href="/favicon.png" rel="icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="//atom.xml" rel="alternate" title="Code and Kaizen" type="application/atom+xml">
  </head>


  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item two-fifths lap-four-sixths palm-one-whole">
  <a href="/" class="site-title">Code and Kaizen</a>
</div>

<div class="grid__item three-fifths lap-two-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/projects/">Projects</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="post">
  <header>
  
  <h1 class="title indent">Lessons in Ruby from Exercism.io</h1>
  

  
  <div class="meta clearfix">
    








  


<time class="pull-left" datetime="2014-02-05T23:44:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> Feb 5<span>th</span>, 2014</time>
    



  
  <div class="pull-left">
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      <li><a href="/blog/categories/blog/">blog</a></li>
    
      <li><a href="/blog/categories/web dev/">web dev</a></li>
    
      <li><a href="/blog/categories/Ruby/">Ruby</a></li>
    
      <li><a href="/blog/categories/Exercism.io/">Exercism.io</a></li>
    
      <li><a href="/blog/categories/Hash/">Hash</a></li>
    
      <li><a href="/blog/categories/Enumerable/">Enumerable</a></li>
    
      <li><a href="/blog/categories/feedback/">feedback</a></li>
    
      <li><a href="/blog/categories/collaboration/">collaboration</a></li>
    
    </ul>
  </div>
  

    
  </div>
  
</header>




  <h1>Exercism.io and Patience</h1>

<p>When I started my path of personal development I gathered a lot of information on online resources to improve my skills as a programmer. That&rsquo;s when I first learned about <a href="http://exercism.io/">Exercism.io.</a> It seemed like a popular and useful resource which would introduce feedback to my learning. I bookmarked and archived it; however, I didn&rsquo;t use it right away. I got more involved with the <a href="http://ruby.railstutorial.org/">Hartl Tutorial</a>, the <a href="http://pragprog.com/book/rails4/agile-web-development-with-rails-4">Agile Web Development with Rails 4</a> book, and a few more <a href="http://www.amazon.com/Design-Patterns-Ruby-Russ-Olsen/dp/0321490452">books</a>.</p>

<p>My interested got picked again at the <a href="http://nickelcityruby.com/">Nickel City Ruby</a> conference where I heard a few people raving about how great Exercism.io was. At first nothing interesting happened, I finished the first exercise and was ready to move on. After a couple of days of not getting any feedback simply advanced to the next exercise. This is how my first two exercises went: &ldquo;finish, wait, no response? Move on&rdquo;. At this point I was wondering what made Exercism.io so special (whatever it was I was not seeing it).</p>

<p>I finished the third exercise and forgot about it. A week had passed by the time I remembered I should check on my submission. I logged in and lo and behold&hellip; I had one feedback comment! It was a suggestion from a kind stranger on how my code could be improved. This suggestion was so good I was immediately excited. It did make my code better. I finally got it! You should Exercism.io a little time until someone gets around to checking your code.</p>

<p>The following exercises went much better. I waited patiently for some feedback which would eventually arrive and improve my code and teach me more about the Ruby language.</p>

<h1>My Lessons</h1>

<h2>Adding Elements to a Hash of Arrays</h2>

<p>In one of the problems I had to implement a class that could classify students based on their grades. The straight forward solution: a hash where the grade is the key and an array of students is the value. Here&rsquo;s the catch: when looking for the students in a grade with no students assigned I should return and empty array <code>[]</code> instead of <code>null</code>.</p>

<p>Here&rsquo;s my approach:</p>

<figure class='code'><figcaption><span>Passing Test </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">School</span>
</span><span class='line'>  <span class="kp">attr_reader</span> <span class="ss">:db</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@db</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">grade</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@db</span><span class="o">[</span><span class="n">grade</span><span class="o">].</span><span class="n">empty?</span> <span class="p">?</span> <span class="vi">@db</span><span class="o">[</span><span class="n">grade</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="nb">name</span><span class="o">]</span> <span class="p">:</span> <span class="vi">@db</span><span class="o">[</span><span class="n">grade</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="nb">name</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">grade</span><span class="p">(</span><span class="n">grade</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@db</span><span class="o">[</span><span class="n">grade</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I believe this covered the requirements. <code>Hash.new([])</code> returns a new, empty hash; if this hash is subsequently accessed by a key that doesnâ€™t correspond to a hash entry, the single object <code>[]</code> will be used for all default values. So if <code>@db</code> is empty, then <code>@db[wibble]</code> will return <code>[]</code>. Looking good!</p>

<p>My biggest problem with my implementation was the add method. Even though it is written in one line (only because I am using ternary notation), it is not very readable. I wrote it that way because simply writing <code>@db[grade] &lt;&lt; name</code> did not work. Somebody suggested I use <code>@db[grade] += [name]</code>, but I didn&rsquo;t think it would work (more on this later). Why would that work when <code>@db[grade] &lt;&lt; name</code> did not?</p>

<p>Turns out using <code>@db[grade] += [name]</code> was definitely the way to go. I ran a few of tests and discovered why <code>@db[grade] &lt;&lt; [name]</code> was not working. I believe <code>@db[grade] += [name]</code> works as <code>@db[grade] = @db[grade] + [name]</code>. Since I had defined the default value of the <code>@db</code> hash to be <code>[]</code>, that expression gets interpreted as <code>@db[grade] = [] + [name]</code> which successfully performs the desired concatenation. This is pretty neat. I hadn&rsquo;t thought of this approach when I first coded this. I opted for the conditional because when I tried doing concatenation with <code>@db[grade] &lt;&lt; [name]</code> I ran into an interesting problem.</p>

<p>The interesting part was finding out why <code>@db[grade] &lt;&lt; [name]</code> was not working. This expression is essentially <code>@db[grade].push([name])</code>. This statement directly modifies the default value for the hash whenever <code>@db[grade]</code> has not been assigned a value. This was great find! It showed me difference between <code>+=</code> and <code>&lt;&lt;</code> as well how default values for a hash work.</p>

<h2>The Powerful Ruby Library</h2>

<p>The second problem I had with my code was the sort method for the same exercise. The sort method was supposed to return a hash with the grades and the names of the students in the grade sorted. I had implemented this method in the following way:</p>

<figure class='code'><figcaption><span>Passing Test </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">sort</span>
</span><span class='line'>  <span class="n">sorted</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'>  <span class="vi">@db</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">key</span><span class="o">|</span> <span class="n">sorted</span><span class="o">[</span><span class="n">key</span><span class="o">]</span> <span class="o">=</span> <span class="vi">@db</span><span class="o">[</span><span class="n">key</span><span class="o">].</span><span class="n">sort</span> <span class="p">}</span>
</span><span class='line'>  <span class="n">sorted</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This worked but it didn&rsquo;t seem right to me. Ruby is a very powerful language and I have seen pretty clever of ways of solving problems like this one. My solution seemed like a clunky way of doing things. Luckily someone suggested a different approach. This is the final version of the method. One line! Yey!</p>

<figure class='code'><figcaption><span>Passing Test </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">sort</span>
</span><span class='line'>   <span class="no">Hash</span><span class="o">[</span><span class="vi">@db</span><span class="o">.</span><span class="n">sort</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">grade</span><span class="p">,</span><span class="nb">name</span><span class="o">|</span> <span class="o">[</span><span class="n">grade</span><span class="p">,</span> <span class="nb">name</span><span class="o">.</span><span class="n">sort</span><span class="o">]</span> <span class="p">}</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s break it down.</p>

<ul>
<li><code>Hash#sort</code> is a useful method which returns a hash table sorted by its keys.</li>
<li><code>Enumerable#map</code> is a method that returns a new array with the results of running a block once for every element in the enumerable. In this case I am passing my sorted hash table and getting back an array in which each element looks like this <code>[grade, [name1, name2, ..., nameN]]</code>. Each element is an Array of length = 2 where the first element is the grade and the second element is a sorted array of student names.</li>
<li>The <code>Hash[]</code> method returns a hash. In one of its many forms, this method accepts an array of pairs as an argument (i.e. <code>[[key1,value1], [key2, value2],...,[keyN, valueN]]</code>) and creates a hash table.</li>
</ul>


<p>Combining all this methods makes it possible to get the full functionality of the sort method implemented in one very readable line.</p>

<h2>Enumerable to the rescue</h2>

<p>I learned my third lesson in a different exercise. This exercise was very straightforward. Given two strings count the differences between them at every position. For example, CAT and CAP have a difference of 1. One condition of the problem was to stop the counting at the end of the shorter string. For instance, CATS and CAP have a difference of 1.  Simple enough. This was first attempt.</p>

<figure class='code'><figcaption><span>Passing Test </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Hamming</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">compute</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="nb">test</span><span class="p">)</span>
</span><span class='line'>    <span class="n">hamming_diff</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>    <span class="o">[</span><span class="n">base</span><span class="o">.</span><span class="n">size</span><span class="p">,</span><span class="nb">test</span><span class="o">.</span><span class="n">size</span><span class="o">].</span><span class="n">min</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>  <span class="o">|</span><span class="n">i</span><span class="o">|</span>
</span><span class='line'>      <span class="n">hamming_diff</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">base</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="nb">test</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="n">hamming_diff</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This was effective. However, I was able to improve it by using the special features of the Enumerable class pointed out by another user. In Ruby, most methods that take block return an Enumerable if no block is given. Additionally, one can apply the <code>Enumerable#count</code> method which takes a block as a parameter to determine when to count an item.  Following these insights my final implementation looked like this.</p>

<figure class='code'><figcaption><span>Passing Test </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Hamming</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">compute</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="nb">test</span><span class="p">)</span>
</span><span class='line'>    <span class="n">max_length_to_compare</span> <span class="o">=</span> <span class="o">[</span><span class="n">base</span><span class="o">.</span><span class="n">size</span><span class="p">,</span><span class="nb">test</span><span class="o">.</span><span class="n">size</span><span class="o">].</span><span class="n">min</span>
</span><span class='line'>    <span class="n">max_length_to_compare</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">base</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="nb">test</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The compute method could have been expressed in one line; however, this way the method separates the two main &ldquo;ideas&rdquo; in the code: finding the maximum length for the comparison and the counting loop. I believe that separating the ideas makes it into a very readable implementation.</p>

<h1>Conclusion</h1>

<p><a href="http://exercism.io/">Exercism.io</a> is not meant for you to plough through all the exercises. It is meant for careful review, collaboration, and revision so that you can learn how to write the best code possible. The users in the site will be helpful but you just have to be a little patient and wait for their input.</p>


</article>


        
        </div>
        
        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  
<section class="social aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">
    Follow me!
  </h1>
  <ul class="unstyled">
    
    
    <li><a class="github" href="//github.com/rafahuaman"><i class="icon-github"></i> Github</a></li>
    
    
    
    
    
    <li><a class="twitter" href="//twitter.com/rhuaman"><i class="icon-twitter"></i> Twitter</a></li>
    
  </ul>
</section>


  <section id="recent-posts" class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Recent Posts</h1>
  <ul class="divided">
    
      <li class="post">
        <a href="/blog/2014/02/05/lessons-in-ruby-from-exercism-dot-io/">Lessons in Ruby from Exercism.io</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/24/hartls-rails-tutorial-im-done/">Hartl's Rails Tutorial - I'm Done!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/12/nitrous-dot-io-and-how-i-stopped-carrying-two-laptops/">Nitrous.io and How I Stopped Carrying Two Laptops</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/28/my-first-code-retreat/">My First Code Retreat</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/13/updating-my-learing-plan/">Updating My Learing Plan</a>
      </li>
    
  </ul>
</section>

<section id="github-repos" class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">
    GitHub Repos
    
    <small class="pull-right">
      <a class="btn" href="//github.com/rafahuaman" title="@rafahuaman on GitHub" target="_blank">
        <i class="icon-external-link"></i>
      </a>
    </small>
    
  </h1>
  <ul id="gh_repos" class="divided">
    <li class="loading">
      <i class="icon-spinner icon-spin"></i>
    </li>
  </ul>
</section>




</div>

        </aside>
        
      </div>
    </div>
    
    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <p class="copyright">
  All content by Rafael Huaman and licenced under <a href="//creativecommons.org/licenses/by-nc-sa/3.0/ie/">Creative Commons</a>.<br>
  Code under <a href="//github.com/coogie/oscailte/blob/master/README.md">MIT Licence</a>.
</p>
    </div>
  </div>
</div>

    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="//crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>
<script defer src="/javascripts/octopress.js"></script>







<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'rafahuaman',
      count: 0,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>






  </body>
</html>